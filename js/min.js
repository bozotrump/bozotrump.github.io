const BOZO_MINT="8ncucXv6U6epZKHPbgaEBcEK399TpHGKCquSt4RnmX4f",MORALIS_URL=`https://solana-gateway.moralis.io/token/mainnet/holders/${BOZO_MINT}`,MORALIS_API_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJub25jZSI6IjVmMDE5ZTE0LWM2YjYtNDVhMC04MDNhLTA5MGFlNGQ2NDUxNyIsIm9yZ0lkIjoiNDQ0MjMwIiwidXNlcklkIjoiNDU3MDU4IiwidHlwZUlkIjoiY2E3ZmM0ZjAtNWRlMy00YjJjLTk0ZWEtMWZjZmM3MTI5MmEzIiwidHlwZSI6IlBST0pFQ1QiLCJpYXQiOjE3NDU4MTc0NzgsImV4cCI6NDkwMTU3NzQ3OH0.0Axf0KJ14urmvjoa4AB2bF-GeO19-2c7_xzDovBU1fg",H_API_KEY="f9657af9-8f69-444a-85f8-db396d07c0e0",HELIUS_RPC_URL=`https://mainnet.helius-rpc.com/?api-key=${H_API_KEY}`,SUPPLY=1e9,DISPLAY_COUNT=21,fmt=t=>Number(t).toLocaleString(),short=t=>t?`${t.slice(0,4)}…${t.slice(-4)}`:"N/A";async function refresh(){document.getElementById("holdersCount").textContent="…",document.getElementById("topClownsPct").textContent="…%";const t=document.getElementById("lb");t.innerHTML='<tr><td colspan="4">Loading…</td></tr>';try{const t=await fetch(MORALIS_URL,{headers:{"X-API-Key":MORALIS_API_KEY}});if(!t.ok)throw new Error(`Moralis responded ${t.status}`);const e=await t.json();if(void 0===e.totalHolders)throw new Error("`totalHolders` missing in response");document.getElementById("holdersCount").textContent=fmt(e.totalHolders)}catch(t){console.error("Moralis fetch failed:",t),document.getElementById("holdersCount").textContent="—"}let e=[];try{const t=await fetch(HELIUS_RPC_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getTokenLargestAccounts",params:[BOZO_MINT]})}),n=await t.json();if(!n.result?.value)throw new Error("Helius RPC malformed");e=n.result.value.slice(0,21)}catch(e){return void(t.innerHTML=`<tr><td colspan="4" style="color:red;">Error: ${e.message}</td></tr>`)}let n=[];try{const t=e.map((t=>t.address)),o=await fetch(HELIUS_RPC_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:2,method:"getMultipleAccounts",params:[t,{encoding:"jsonParsed"}]})});n=(await o.json()).result.value}catch(e){return void(t.innerHTML=`<tr><td colspan="4" style="color:red;">Error: ${e.message}</td></tr>`)}const o=n.map(((t,e)=>{const n=t.data.parsed.info.tokenAmount,o=n.uiAmount??n.amount/10**n.decimals;return{rank:e+1,owner:t.data.parsed.info.owner,amt:o,pct:(o/SUPPLY*100).toFixed(2)+"%"}})),r=o.slice(0,5).reduce(((t,e)=>t+e.amt),0);document.getElementById("topClownsPct").textContent=(r/SUPPLY*100).toFixed(2)+"%",t.innerHTML=o.map((t=>`\n      <tr>\n        <td class="rank">${t.rank}</td>\n        <td class="address ${1===t.rank?"lp":""}" title="${t.owner}">${short(t.owner)}</td>\n        <td>${fmt(t.amt)}</td>\n        <td>${t.pct}</td>\n      </tr>\n    `)).join("")}window.addEventListener("DOMContentLoaded",(()=>{refresh(),setInterval(refresh,3e5)}));
