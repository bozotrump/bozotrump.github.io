const BOZO_MINT='8ncucXv6U6epZKHPbgaEBcEK399TpHGKCquSt4RnmX4f',MORALIS_URL=`https://solana-gateway.moralis.io/token/mainnet/holders/${BOZO_MINT}`,MORALIS_API_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJub25jZSI6IjVmMDE5ZTE0LWM2YjYtNDVhMC04MDNhLTA5MGFlNGQ2NDUxNyIsIm9yZ0lkIjoiNDQ0MjMwIiwidXNlcklkIjoiNDU3MDU4IiwidHlwZUlkIjoiY2E3ZmM0ZjAtNWRlMy00YjJjLTk0ZWEtMWZjZmM3MTI5MmEzIiwidHlwZSI6IlBST0pFQ1QiLCJpYXQiOjE3NDU4MTc0NzgsImV4cCI6NDkwMTU3NzQ3OH0.0Axf0KJ14urmvjoa4AB2bF-GeO19-2c7_xzDovBU1fg',H_API_KEY='f9657af9-8f69-444a-85f8-db396d07c0e0',HELIUS_RPC_URL=`https://mainnet.helius-rpc.com/?api-key=${H_API_KEY}`,SUPPLY=1e9,DISPLAY_COUNT=21,fmt=n=>Number(n).toLocaleString(),short=a=>a?`${a.slice(0,4)}…${a.slice(-4)}`:'N/A';async function refresh(){document.getElementById('holdersCount').textContent='…';document.getElementById('topClownsPct').textContent='…%';const t=document.getElementById('lb');t.innerHTML='<tr><td colspan="4">Loading…</td></tr>';try{const e=await fetch(MORALIS_URL,{headers:{'X-API-Key':MORALIS_API_KEY}});if(!e.ok)throw new Error(`Moralis responded ${e.status}`);const n=await e.json();if(void 0===n.totalHolders)throw new Error('`totalHolders` missing in response');document.getElementById('holdersCount').textContent=fmt(n.totalHolders)}catch(e){console.error('Moralis fetch failed:',e),document.getElementById('holdersCount').textContent='—'}let accs=[];try{const e=await fetch(HELIUS_RPC_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({jsonrpc:'2.0',id:1,method:'getTokenLargestAccounts',params:[BOZO_MINT]})}),n=await e.json();if(!n.result?.value)throw new Error('Helius RPC malformed');accs=n.result.value.slice(0,DISPLAY_COUNT)}catch(e){return void(t.innerHTML=`<tr><td colspan="4" style="color:red;">Error: ${e.message}</td></tr>`)}let infos=[];try{const e=accs.map(e=>e.address),n=await fetch(HELIUS_RPC_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({jsonrpc:'2.0',id:2,method:'getMultipleAccounts',params:[e,{encoding:'jsonParsed'}]})}),a=await n.json();infos=a.result.value}catch(e){return void(t.innerHTML=`<tr><td colspan="4" style="color:red;">Error: ${e.message}</td></tr>`)}const rows=infos.map((e,n)=>{const a=e.data.parsed.info.tokenAmount,o=a.uiAmount??a.amount/10**a.decimals,r=e.data.parsed.info.owner;return{rank:n+1,owner:r,amt:o,pct:(o/SUPPLY*100).toFixed(2)+'%'}}),top5=rows.slice(0,5).reduce((e,n)=>e+n.amt,0);document.getElementById('topClownsPct').textContent=(top5/SUPPLY*100).toFixed(2)+'%';t.innerHTML=rows.map(e=>`<tr><td class="rank">${e.rank}</td><td class="address ${1===e.rank?'lp':''}" title="${e.owner}">${short(e.owner)}</td><td>${fmt(e.amt)}</td><td>${e.pct}</td></tr>`).join('')}window.addEventListener('DOMContentLoaded',()=>{refresh(),setInterval(refresh,3e5)});```
